/*! For license information please see table.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("quill")):"function"==typeof define&&define.amd?define(["quill"],e):"object"==typeof exports?exports.TableModule=e(require("quill")):t.TableModule=e(t.Quill)}(self,(t=>(()=>{var e={580:function(t,e,r){var n,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436)],n=function(t,e){"use strict";function r(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}function o(){return o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},o.apply(this,arguments)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=u(t);if(e){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,s=(c=e,e=c&&c.__esModule?c:{default:c}).default.import("blots/container"),f=e.default.import("parchment"),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}(d,t);var e,a,c,s=l(d);function d(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),s.apply(this,arguments)}return e=d,a=[{key:"insertBefore",value:function(t,e){t.statics.blotName==this.statics.blotName?o(u(d.prototype),"insertBefore",this).call(this,t.children.head,e):o(u(d.prototype),"insertBefore",this).call(this,t,e)}},{key:"formats",value:function(){return function(t,e,r){return(e=n(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var e=f.create(this.statics.defaultChild);t.moveChildren(e),this.appendChild(e)}null!=t.parent&&o(u(d.prototype),"replace",this).call(this,t)}}],c=[{key:"create",value:function(t){return o(u(d),"create",this).call(this,"contain")}}],a&&r(e.prototype,a),c&&r(e,c),Object.defineProperty(e,"prototype",{writable:!1}),d}(s);d.blotName="contain",d.tagName="contain",d.scope=f.Scope.BLOCK_BLOT,d.defaultChild="block",t.default=d},void 0===(i=n.apply(e,o))||(t.exports=i)},1883:function(t,e,r){var n,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436),r(6504)],n=function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},i.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=c(t);if(e){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=n(e),r=n(r);var s=e.default.import("blots/container"),f=e.default.import("parchment"),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(f,t);var e,n,a,s=u(f);function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),s.apply(this,arguments)}return e=f,(n=[{key:"optimize",value:function(){i(c(f.prototype),"optimize",this).call(this);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&(t.moveChildren(this),t.remove())}},{key:"deleteAt",value:function(t,e){var n=this;i(c(f.prototype),"deleteAt",this).call(this,t,e),setTimeout((function(){var o;n.children.length||(null===(o=n.prev)||void 0===o||null===(o=o.statics)||void 0===o?void 0:o.blotName)!==r.default.blotName||n.prev.deleteAt(t,e)}),0)}}])&&o(e.prototype,n),a&&o(e,a),Object.defineProperty(e,"prototype",{writable:!1}),f}(s);d.blotName="tbody",d.tagName="tbody",d.scope=f.Scope.BLOCK_BLOT,t.default=d},void 0===(i=n.apply(e,o))||(t.exports=i)},7014:function(t,e,r){var n,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436),r(580),r(603),r(1883),r(1644),r(1520),r(6504)],n=function(t,e,r,n,o,i,l,u){"use strict";function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function p(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},h.apply(this,arguments)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=b(t);if(e){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=c(e),r=c(r),n=c(n),o=c(o),i=c(i),l=c(l),u=c(u);var v=e.default.import("parchment"),g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(g,t);var r,a,c,f=m(g);function g(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),f.apply(this,arguments)}return r=g,c=[{key:"create",value:function(t){var e=t.tableId,r=t.rowId,n=t.colId,o=t.cellId,i=t.rowspan,a=t.colspan,l=t.style,u=h(b(g),"create",this).call(this);return u.dataset.tableId=e,u.dataset.rowId=r,u.dataset.colId=n,u.dataset.cellId=o,u.setAttribute("rowspan",null!=i?i:1),u.setAttribute("colspan",null!=a?a:1),u.setAttribute("style",null!=l?l:null),u.classList.add("ql-table-cell"),u}}],(a=[{key:"format",value:function(t,e){null!=t?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):h(b(g.prototype),"format",this).call(this,t,e)}},{key:"colId",value:function(){return this.domNode.dataset.colId}},{key:"rowId",value:function(){return this.domNode.dataset.rowId}},{key:"formats",value:function(){var t,e,r,n=this.domNode.dataset,o=n.tableId,i=n.rowId,a=n.colId,l=n.cellId;return t={},e=this.statics.blotName,r={tableId:o,rowId:i,colId:a,cellId:l,rowspan:this.domNode.getAttribute("rowspan"),colspan:this.domNode.getAttribute("colspan"),style:this.domNode.getAttribute("style")},(e=p(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},{key:"firstIndexOfCol",value:function(){var t=s(e.default.find(document.querySelector('table[data-table-id="'.concat(this.domNode.dataset.tableId,'"]'))).descendants(u.default),1)[0],r=this.domNode.dataset.colId;return t.children.map((function(t){return t.colId()})).findIndex((function(t){return t===r}))}},{key:"optimize",value:function(){h(b(g.prototype),"optimize",this).call(this);var t=this.parent;if(null!=t&&t.statics.blotName!=i.default.blotName){var e=v.create("block");this.parent.insertBefore(e,this.next);var r=v.create(l.default.blotName,this.domNode.dataset.tableId),a=v.create(n.default.blotName,this.domNode.dataset.tableId),u=v.create(o.default.blotName),c=v.create(i.default.blotName,this.domNode.dataset.rowId);c.appendChild(this),u.appendChild(c),a.appendChild(u),r.appendChild(a),r.replace(e)}var s=this.next;null!=s&&s.prev===this&&s.statics.blotName===this.statics.blotName&&s.domNode.tagName===this.domNode.tagName&&s.domNode.dataset.tableId===this.domNode.dataset.tableId&&s.domNode.dataset.cellId===this.domNode.dataset.cellId&&(s.moveChildren(this),s.remove())}},{key:"deleteAt",value:function(t,e){var r,n;h(b(g.prototype),"deleteAt",this).call(this,t,e),0===t&&1===e&&((null===(r=this.prev)||void 0===r||null===(r=r.statics)||void 0===r?void 0:r.blotName)===this.statics.blotName?this.prev.deleteAt(t,e):(null===(n=this.parent)||void 0===n||null===(n=n.statics)||void 0===n?void 0:n.blotName)===i.default.blotName&&this.parent.deleteAt(0,1))}}])&&d(r.prototype,a),c&&d(r,c),Object.defineProperty(r,"prototype",{writable:!1}),g}(r.default);g.blotName="td",g.tagName="td",g.scope=v.Scope.BLOCK_BLOT,t.default=g},void 0===(i=n.apply(e,o))||(t.exports=i)},939:function(t,e,r){var n,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436),r(603),r(1520),r(6504)],n=function(t,e,r,n,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function u(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}function c(){return c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},c.apply(this,arguments)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=i(e),r=i(r),n=i(n),o=i(o);var p=e.default.import("parchment"),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(y,t);var e,i,a,h=f(y);function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),h.apply(this,arguments)}return e=y,a=[{key:"create",value:function(t){var e=t.width,r=t.tableId,n=t.colId,o=c(d(y),"create",this).call(this);return o.setAttribute("width",e),o.dataset.tableId=r,o.dataset.colId=n,o}}],(i=[{key:"getWidth",value:function(){return Number(this.domNode.getAttribute("width"))}},{key:"colId",value:function(){return this.domNode.dataset.colId}},{key:"formats",value:function(){var t,e,r,n=this.domNode.dataset,o=n.tableId,i=n.colId;return t={},e=this.statics.blotName,r={tableId:o,colId:i,width:this.domNode.getAttribute("width")},(e=u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},{key:"format",value:function(t,e){null!=t?e?this.domNode.setAttribute(t,null!=e?e:"auto"):this.domNode.removeAttribute(t):c(d(y.prototype),"format",this).call(this,t,e)}},{key:"optimize",value:function(){c(d(y.prototype),"optimize",this).call(this);var t=this.parent;if(null!=t&&t.statics.blotName!=o.default.blotName){var e=p.create("block");this.parent.insertBefore(e,this.next);var i=p.create(n.default.blotName,this.domNode.dataset.tableId),a=p.create(r.default.blotName,this.domNode.dataset.tableId),l=p.create(o.default.blotName);l.appendChild(this),a.appendChild(l),i.appendChild(a),i.replace(e)}var u=this.next,s=this.domNode.dataset,f=s.tableId,h=s.colId;null!=u&&u.statics.blotName===this.statics.blotName&&u.domNode.tagName===this.domNode.tagName&&u.domNode.dataset.tableId===f&&u.domNode.dataset.colId===h&&(u.moveChildren(this),u.remove())}},{key:"html",value:function(){return this.domNode.outerHTML}}])&&l(e.prototype,i),a&&l(e,a),Object.defineProperty(e,"prototype",{writable:!1}),y}(e.default.import("blots/block"));h.blotName="col",h.tagName="col",h.scope=p.Scope.BLOCK_BLOT,t.default=h},void 0===(i=n.apply(e,o))||(t.exports=i)},6504:function(t,e,r){var n,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436)],n=function(t,e){"use strict";function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},n.apply(this,arguments)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c=(u=e,e=u&&u.__esModule?u:{default:u}).default.import("blots/container"),s=e.default.import("parchment"),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(s,t);var e,a,u,c=i(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),c.apply(this,arguments)}return e=s,(a=[{key:"optimize",value:function(){n(l(s.prototype),"optimize",this).call(this);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&(t.moveChildren(this),t.remove())}},{key:"findCol",value:function(t){for(var e,r=this.children.iterator(),n=0;(e=r())&&n!==t;)n++;return e}},{key:"deleteAt",value:function(t,e){var r=this;setTimeout((function(){r.next||(n(l(s.prototype),"deleteAt",r).call(r,t,e),r.children.forEach((function(t){t.deleteAt(0,1)})))}),0)}}])&&r(e.prototype,a),u&&r(e,u),Object.defineProperty(e,"prototype",{writable:!1}),s}(c);f.blotName="colgroup",f.tagName="colgroup",f.scope=s.Scope.BLOCK_BLOT,t.default=f},void 0===(i=n.apply(e,o))||(t.exports=i)},603:function(t,e,r){var n,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436),r(6504)],n=function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},i.apply(this,arguments)}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=c(t);if(e){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=n(e),r=n(r);var s=e.default.import("blots/container"),f=e.default.import("parchment"),d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(f,t);var e,n,a,s=u(f);function f(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(r=s.call(this,t,e)).tableWidth(),r}return e=f,a=[{key:"create",value:function(t){var e=i(c(f),"create",this).call(this);return e.dataset.tableId=t,e.classList.add("ql-table"),e.setAttribute("cellpadding",0),e.setAttribute("cellspacing",0),e}}],(n=[{key:"computedCorrectWidth",value:function(t){var e=this;setTimeout((function(){var r=e.children.head,n=r.children.length;r.children.map((function(e){e.format("width",t/n)})),e.colWidthFillTable()}),0)}},{key:"colWidthFillTable",value:function(){var t=this.children.head;if(t&&t.statics.blotName===r.default.blotName){var e=t.children.reduce((function(t,e){return e.getWidth()+t}),0);return this.domNode.style.width=e+"px",e}}},{key:"tableWidth",value:function(){var t=this;setTimeout((function(){var e=getComputedStyle(t.domNode).width;if(e){var r=t.colWidthFillTable(),n=parseInt(e);n>r&&(t.domNode.style.width=n+"px",t.computedCorrectWidth(n))}}),0)}},{key:"tableId",value:function(){return this.domNode.dataset.tableId}},{key:"rowsId",value:function(){return this.children.tail.children.map((function(t){return t.rowId()}))}},{key:"colsId",value:function(){return this.children.head.children.map((function(t){return t.colId()}))}},{key:"optimize",value:function(){i(c(f.prototype),"optimize",this).call(this);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.dataset.tableId===this.domNode.dataset.tableId&&(t.moveChildren(this),t.remove())}}])&&o(e.prototype,n),a&&o(e,a),Object.defineProperty(e,"prototype",{writable:!1}),f}(s);d.blotName="table",d.tagName="table",d.scope=f.Scope.BLOCK_BLOT,t.default=d},void 0===(i=n.apply(e,o))||(t.exports=i)},1644:function(t,e,r){var n,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436)],n=function(t,e){"use strict";function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},n.apply(this,arguments)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c=(u=e,e=u&&u.__esModule?u:{default:u}).default.import("blots/container"),s=e.default.import("parchment"),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(s,t);var e,a,u,c=i(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),c.apply(this,arguments)}return e=s,u=[{key:"create",value:function(t){var e=n(l(s),"create",this).call(this,"tr");return e.dataset.rowId=t,e.classList.add("ql-table-row"),e}}],(a=[{key:"optimize",value:function(){n(l(s.prototype),"optimize",this).call(this);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.dataset.tableId===this.domNode.dataset.tableId&&t.domNode.dataset.rowId===this.domNode.dataset.rowId&&(t.moveChildren(this),t.remove())}},{key:"findTdByCol",value:function(t){for(var e,r=this.parent.parent.colsId(),n=this.children.iterator();(e=n())&&!(r.findIndex((function(t){return t===e.domNode.dataset.colId}))+(Number(e.domNode.getAttribute("colspan"))||1)-1>=t););return e}},{key:"exacFindTdByCol",value:function(t){for(var e=this.parent.parent.colsId()[t],r=this.children.iterator(),n=null;n=r();)if(n.domNode.dataset.colId===e)return n;return null}},{key:"rowId",value:function(){return this.domNode.dataset.rowId}},{key:"deleteAt",value:function(t,e){var r;n(l(s.prototype),"deleteAt",this).call(this,t,e),(null===(r=this.prev)||void 0===r||null===(r=r.statics)||void 0===r?void 0:r.blotName)===this.statics.blotName&&this.prev.deleteAt(t,e)}}])&&r(e.prototype,a),u&&r(e,u),Object.defineProperty(e,"prototype",{writable:!1}),s}(c);f.blotName="tr",f.tagName="tr",f.scope=s.Scope.BLOCK_BLOT,t.default=f},void 0===(i=n.apply(e,o))||(t.exports=i)},1520:function(t,e,r){var n,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436)],n=function(t,e){"use strict";function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),n)}var o,i}function n(){return n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},n.apply(this,arguments)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=l(t);if(e){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function l(t){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,c=(u=e,e=u&&u.__esModule?u:{default:u}).default.import("blots/container"),s=e.default.import("parchment"),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(s,t);var e,a,u,c=i(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),c.apply(this,arguments)}return e=s,u=[{key:"create",value:function(t){var e=n(l(s),"create",this).call(this);return e.dataset.tableId=t,e.addEventListener("dragstart",(function(t){t.preventDefault(),t.stopPropagation()}),!0),e.ondrop=function(t){t.preventDefault()},e.ondragover=function(t){t.preventDefault(),t.dataTransfer.dropEffect="none"},e}}],(a=[{key:"tableId",value:function(){return this.domNode.dataset.tableId}},{key:"insertBefore",value:function(t,e){t.statics.blotName==this.statics.blotName?n(l(s.prototype),"insertBefore",this).call(this,t.children.head,e):this.statics.allowedChildren.find((function(e){return e.blotName===t.statics.blotName}))?n(l(s.prototype),"insertBefore",this).call(this,t,e):e?this.prev?this.prev.insertBefore(t,null):this.parent.insertBefore(t,this):this.next?this.next.insertBefore(t,e):this.parent.appendChild(t)}},{key:"optimize",value:function(){n(l(s.prototype),"optimize",this).call(this);var t=this.next;null!=t&&t.prev===this&&t.statics.blotName===this.statics.blotName&&t.domNode.tagName===this.domNode.tagName&&t.domNode.dataset.tableId===this.domNode.dataset.tableId&&(t.moveChildren(this),t.remove())}},{key:"deleteAt",value:function(t,e){var r;n(l(s.prototype),"deleteAt",this).call(this,t,e),null===(r=document.querySelector('.ql-table-tooltip[data-table-id="'.concat(this.tableId(),'"]')))||void 0===r||null===(r=r.classList)||void 0===r||r.add("ql-hidden")}}])&&r(e.prototype,a),u&&r(e,u),Object.defineProperty(e,"prototype",{writable:!1}),s}(c);f.blotName="tableWrapper",f.tagName="p",f.className="ql-table-wrapper",f.scope=s.Scope.BLOCK_BLOT,t.default=f},void 0===(i=n.apply(e,o))||(t.exports=i)},5579:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436),r(5937),r(6318),r(8838),r(580),r(7014),r(1644),r(603),r(1520),r(1883),r(6504),r(939),r(8903),r(863),r(9801)],n=function(t,e,r,n,o,i,a,l,u,c,s,f,d,p,h,y){"use strict";var m;function b(t){return t&&t.__esModule?t:{default:t}}function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||N(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||N(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){if(t){if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(t,e):void 0}}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _(){_=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),l=new C(n||[]);return o(a,"_invoke",{value:T(t,r,l)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var d="suspendedStart",p="suspendedYield",h="executing",y="completed",m={};function b(){}function g(){}function w(){}var N={};c(N,a,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(L([])));x&&x!==r&&n.call(x,a)&&(N=x);var E=w.prototype=b.prototype=Object.create(N);function j(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function r(o,i,a,l){var u=f(t[o],t,i);if("throw"!==u.type){var c=u.arg,s=c.value;return s&&"object"==v(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,l)}),(function(t){r("throw",t,a,l)})):e.resolve(s).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,l)}))}l(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,r,n){var o=d;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var l=n.delegate;if(l){var u=A(l,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=f(e,r,n);if("normal"===c.type){if(o=n.done?y:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=y,n.method="throw",n.arg=c.arg)}}}function A(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(v(e)+" is not iterable")}return g.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=c(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,c(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},j(S.prototype),c(S.prototype,l,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new S(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(E),c(E,u,"Generator"),c(E,a,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return l.type="throw",l.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function x(t,e,r,n,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void r(t)}l.done?e(u):Promise.resolve(u).then(n,o)}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,I(n.key),n)}}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=A(t);if(e){var o=A(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return T(t)}(this,r)}}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function P(t,e,r){return(e=I(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function I(t){var e=function(t,e){if("object"!==v(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===v(e)?e:String(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.tableCantInsert=t.isForbidInTableBlot=t.isForbidInTable=t.default=void 0,e=b(e),r=b(r),n=b(n),o=b(o),i=b(i),a=b(a),l=b(l),u=b(u),c=b(c),s=b(s),f=b(f),d=b(d),h=b(h),y=b(y);var C=e.default.import("parchment"),L=e.default.import("delta"),R=e.default.import("blots/block/embed"),k=e.default.import("blots/block"),B=e.default.import("blots/container"),M=e.default.import("ui/icons");i.default.allowedChildren=[k,R,B],c.default.allowedChildren=[u.default],u.default.allowedChildren=[s.default,f.default],u.default.requiredContainer=c.default,s.default.allowedChildren=[l.default],s.default.requiredContainer=u.default,f.default.allowedChildren=[d.default],f.default.requiredContainer=u.default,l.default.allowedChildren=[a.default],l.default.requiredContainer=s.default,a.default.allowedChildren=[k,R,B],e.default.register((P(m={},"formats/".concat(i.default.blotName),i.default),P(m,"formats/".concat(a.default.blotName),a.default),P(m,"formats/".concat(l.default.blotName),l.default),P(m,"formats/".concat(u.default.blotName),u.default),P(m,"formats/".concat(c.default.blotName),c.default),P(m,"formats/".concat(s.default.blotName),s.default),P(m,"formats/".concat(f.default.blotName),f.default),P(m,"formats/".concat(d.default.blotName),d.default),m),!0);var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}(m,t);var r,i,c,s,f,y=S(m);function m(t,e){var r;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,m),(r=y.call(this,t,e)).quill=t,r.options=e,r.tableBtn=null,r.tableInsertSelectCloseHandler=null;var n=r.quill.getModule("toolbar");return n&&n.addHandler(m.toolName,r.handleSelectDisplay.bind(T(r))),r.pasteTableHandler(),r.quill.root.addEventListener("click",(function(n){var o,i=n.path||n.composedPath&&n.composedPath();if(i&&!(i.length<=0)){var a=null===(o=i.filter((function(t){return t.tagName&&"TABLE"===t.tagName.toUpperCase()&&t.classList.contains("ql-table")})))||void 0===o?void 0:o[0];if(a){if(r.table===a)return;r.table&&r.hideTableTools(),r.showTableTools(a,t,e.selection)}else r.table&&r.hideTableTools()}}),!1),r.quill.root.addEventListener("contextmenu",(function(n){var i;if(!r.table)return!0;n.preventDefault();var a=n.path||n.composedPath&&n.composedPath();if(a&&!(a.length<=0)){var l=a.filter((function(t){return t.tagName&&"TABLE"===t.tagName.toUpperCase()&&t.classList.contains("ql-table")}))[0];if(l&&null!==(i=r.tableSelection)&&void 0!==i&&null!==(i=i.selectedTds)&&void 0!==i&&i.length){r.tableOperationMenu&&(r.tableOperationMenu=r.tableOperationMenu.destroy());var u=a.filter((function(t){return t.tagName&&"TR"===t.tagName.toUpperCase()&&t.getAttribute("data-row-id")}))[0],c=a.filter((function(t){return t.tagName&&"TD"===t.tagName.toUpperCase()&&t.getAttribute("data-row-id")}))[0];r.tableOperationMenu=new o.default({table:l,row:u,cell:c,left:n.pageX,top:n.pageY},t,e.operationMenu)}}})),r.quill.theme.tableToolTip=new h.default(r.quill,r.options.tableToolTip),r}return r=m,i=[{key:"showTableTools",value:function(t,e,r){this.table=t,this.tableSelection=new n.default(t,e,r)}},{key:"hideTableTools",value:function(){this.tableSelection&&this.tableSelection.destroy(),this.tableOperationMenu&&this.tableOperationMenu.destroy(),this.tableSelection=null,this.tableOperationMenu=null,this.table=null}},{key:"pasteTableHandler",value:function(){var t=(0,p.randomId)(),e=(0,p.randomId)(),r=[],n=!1,o=0;this.quill.clipboard.addMatcher(u.default.blotName,(function(e,i){var a=Array.from(e.getElementsByTagName("tr")).reduce((function(t,e){var r=Array.from(e.getElementsByTagName("td")).map((function(t){return t.getBoundingClientRect().width}));return r.length<t.length?t:r.map((function(e,r){var n;return Math.max(e,null!==(n=t[r])&&void 0!==n?n:0)})).concat(t.slice(r.length))}),[]),l=new L;return r.map((function(e,r){var n;l.insert("\n",P({},d.default.blotName,{colId:e,tableId:t,width:null!==(n=a[r])&&void 0!==n?n:150}))})),t=(0,p.randomId)(),r=[],n=!1,o=0,l.concat(i)})),this.quill.clipboard.addMatcher(l.default.blotName,(function(t,r){return e=(0,p.randomId)(),n=!0,r})),this.quill.clipboard.addMatcher(a.default.blotName,(function(i,l){var u=(0,p.randomId)();return n||r.push((0,p.randomId)()),o+=1,l.compose((new L).retain(l.length(),P({},a.default.blotName,{tableId:t,rowId:e,colId:r[(o-1)%r.length],cellId:u,rowspan:i.getAttribute("rowspan"),colspan:i.getAttribute("colspan"),style:i.getAttribute("style")})))}))}},{key:"handleSelectDisplay",value:(s=_().mark((function t(){var e,r,n;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.quill.focus(),this.range=this.quill.getSelection(),!this.options.size){t.next=11;break}return t.next=5,this.options.size();case 5:e=t.sent,r=e.row,n=e.col,this.insertTable(r,n),t.next=12;break;case 11:this.createSelect();case 12:case"end":return t.stop()}}),t,this)})),f=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=s.apply(t,e);function i(t){x(o,r,n,i,a,"next",t)}function a(t){x(o,r,n,i,a,"throw",t)}i(void 0)}))},function(){return f.apply(this,arguments)})},{key:"createSelect",value:function(){var t=this.insertTable.bind(this);(0,p.showTableCreator)().then((function(e){var r=e.row,n=e.col;t(r,n)}))}},{key:"closeSelecte",value:function(t){var e=this,r=(t.composedPath&&t.composedPath()||t.path).findIndex((function(t){return t===e.tableBtn}));(r>2||-1===r)&&(this.tableBtn.classList.remove("ql-expanded"),this.tableBtn.dataset.active=!1,window.removeEventListener("click",this.tableInsertSelectCloseHandler))}},{key:"insertTable",value:function(t,r){var n=this;if(t>=100&&r>=100)alert("table 过大");else{var o=this.range;if(null!=o){var i=this.quill.getLeaf(o.index)[0],l=(new L).retain(o.index);if(U(i))alert("不支持的嵌套");else{l.insert("\n");var u=(0,p.randomId)(),c=new Array(r).fill(0).map((function(){return(0,p.randomId)()}));setTimeout((function(){var i=getComputedStyle(n.quill.root),s=i.width,f=i.paddingLeft,h=i.paddingRight;s=parseInt(s),f=parseInt(f),h=parseInt(h),l=new Array(r).fill("\n").reduce((function(t,e,n){return t.insert(e,P({},d.default.blotName,{width:Math.floor((s-f-h-1)/r),tableId:u,colId:c[n]})),t}),l),l=new Array(t).fill(0).reduce((function(t){var e=(0,p.randomId)();return new Array(r).fill("\n").reduce((function(t,r,n){return t.insert(r,P({},a.default.blotName,{tableId:u,rowId:e,colId:c[n],cellId:(0,p.randomId)(),rowspan:1,colspan:1})),t}),t)}),l),n.quill.updateContents(l,e.default.sources.USER),n.quill.setSelection(o.index+r+r*t+1,e.default.sources.API),n.quill.focus()}),0)}}}}},{key:"findTable",value:function(t){for(var e=t;e.statics.blotName!==u.default.blotName&&null!==e;)e=e.parent;return e}},{key:"appendRow",value:function(t){var e,r,n=this.tableSelection.selectedTds;if(n.length){var o=this.findTable(n[0]),i=o.tableId(),u=(0,p.randomId)(),c=o.colsId(),s=n[0].parent;t&&(s=n[n.length-1].parent);var f=null===(e=s.next)||void 0===e?void 0:e.children.reduce((function(t,e){return e.domNode.getAttribute("rowspan")>1?NaN:t+Number(e.domNode.getAttribute("colspan"))||1}),0),d=null===(r=s.prev)||void 0===r?void 0:r.children.reduce((function(t,e){return e.domNode.getAttribute("rowspan")>1?NaN:t+Number(e.domNode.getAttribute("colspan"))||1}),0);if((!t||s.next&&f!==c.length)&&(t||s.prev&&d!==c.length)){var h,y=s;if(t){for(var m=Number(n[n.length-1].domNode.getAttribute("rowspan"))||1;m>0;)y=y.next,m-=1;h=y?y.children.map((function(t){return t.colId()})):c}else h=y.children.map((function(t){return t.colId()}));for(var b=C.create(l.default.blotName,u),v=0;v<h.length;v++){var g=C.create(a.default.blotName,{tableId:i,rowId:u,colId:h[v],cellId:(0,p.randomId)(),rowspan:1,colspan:1});b.appendChild(g)}if(y)for(var w=2,N=y.prev;N;)N.children.map((function(t){t.domNode.getAttribute("rowspan")>=w&&t.format("rowspan",Number(t.domNode.getAttribute("rowspan"))+1)})),N=N.prev,w+=1;y?s.parent.insertBefore(b,y):s.parent.appendChild(b)}else{for(var O=C.create(l.default.blotName,u),_=0;_<c.length;_++){var x=C.create(a.default.blotName,{tableId:i,rowId:u,colId:c[_],cellId:(0,p.randomId)(),rowspan:1,colspan:1});O.appendChild(x)}t&&!s.next?s.parent.appendChild(O):t&&s.next?s.parent.insertBefore(O,s.next):s.parent.insertBefore(O,s)}}}},{key:"removeRow",value:function(){if(this.tableSelection.selectedTds.length){for(var t=this.tableSelection.selectedTds,e=[],r=0;r<t.length;r++){var n=t[r].parent;e.includes(n)||e.push(n)}var o=this.findTable(t[0]),i=o.children.head.children.length;e.map((function(t){if(t.children.length<i)for(var e=1,r=t.prev;r;)r.children.map((function(t){t.domNode.getAttribute("rowspan")>e&&t.format("rowspan",Number(t.domNode.getAttribute("rowspan"))-1)})),r=r.prev,e+=1;var n=0;t.children.map((function(e){if(e.domNode.getAttribute("rowspan")>1){var r=t.next,i=C.create(a.default.blotName,{tableId:o.tableId(),rowId:r.rowId(),colId:e.colId(),cellId:(0,p.randomId)(),rowspan:e.domNode.getAttribute("rowspan")-1,colspan:e.domNode.getAttribute("colspan")}),l=r.findTdByCol(n);null===l?r.appendChild(i):r.insertBefore(i,l)}n+=Number(e.domNode.getAttribute("colspan"))||1,e.remove()}))}))}}},{key:"appendCol",value:function(t){if(this.tableSelection.selectedTds.length){var e,r=this.findTable(this.tableSelection.selectedTds[0]),n=r.tableId(),o=(0,p.randomId)(),i=r.children.tail.children.iterator(),l=this.tableSelection.selectedTds[0],u=l.firstIndexOfCol();if(t){var c=w(this.tableSelection.selectedTds.reduce((function(t,e){var r=e.firstIndexOfCol();return r>t[1]?[e,r]:t}),[null,0]),1)[0];c&&(l=c),u+=Number(l.domNode.getAttribute("colspan"))-1}for(;e=i();){var s=C.create(a.default.blotName,{tableId:n,rowId:e.rowId(),colId:o,cellId:(0,p.randomId)(),rowspan:1,colspan:1}),f=e.findTdByCol(u);if(f){var h=f.firstIndexOfCol();t?h>u?e.insertBefore(s,f):h+(Number(f.domNode.getAttribute("colspan"))||1)-1<=u?e.insertBefore(s,f.next):f.format("colspan",Number(f.domNode.getAttribute("colspan"))+1):h>=u?e.insertBefore(s,f):f.format("colspan",Number(f.domNode.getAttribute("colspan"))+1)}else e.appendChild(s)}var y=r.children.head,m=C.create(d.default.blotName,{tableId:n,colId:o,width:280}),b=y.findCol(u);t?y.insertBefore(m,b.next):y.insertBefore(m,b),r.colWidthFillTable()}}},{key:"removeCol",value:function(){if(this.tableSelection.selectedTds.length){for(var t=this.tableSelection.selectedTds,e=0,r=0;r<t.length&&(!t[r-1]||t[r].rowId()===t[r-1].rowId());r++)e+=Number(t[r].domNode.getAttribute("colspan"))||1;var n=t[0].firstIndexOfCol(),o=this.findTable(this.tableSelection.selectedTds[0]),i=o.children.tail.children,a=o.colsId();i.map((function(t){for(var r=n;r<n+e;r++){var o=t.exacFindTdByCol(r);o&&(o.domNode.getAttribute("colspan")>n+e-r?(o.format("colspan",o.domNode.getAttribute("colspan")-(n+e-r)),o.domNode.dataset.colId=a[r]):o.remove())}}));for(var l,u=o.children.head.children.iterator(),c=0;l=u();){if(c>=n&&c<n+e)l.remove();else if(c>=n)break;c+=1}o.colWidthFillTable()}}},{key:"removeTable",value:function(){var t=this.tableSelection.selectedTds;t.length&&this.findTable(t[0]).remove()}},{key:"mergeCells",value:function(){if(this.tableSelection.selectedTds.length){var t=this.tableSelection.selectedTds,r=t.reduce((function(t,e){var r=e.colId();t[0][r]||(t[0][r]=0),t[0][r]+=Number(e.domNode.getAttribute("rowspan"))||1;var n=e.rowId();return t[1][n]||(t[1][n]=0),t[1][n]+=Number(e.domNode.getAttribute("colspan"))||1,t}),[{},{}]),n=Math.max.apply(Math,g(Object.values(r[0]))),o=Math.max.apply(Math,g(Object.values(r[1]))),i=t.reduce((function(t,e,r){return 0===r?(e.format("rowspan",n),e.format("colspan",o),t=e):(t&&e.moveChildren(t),e.remove()),t}),null),a=e.default.find(this.table);if(a.rowsId().length===Number(i.domNode.getAttribute("rowspan"))){var l=new Set(Object.keys(r[0]));l.delete(i.colId()),a.descendants(d.default).map((function(t){l.has(t.colId())&&(t.prev.format("width",t.prev.getWidth()+t.getWidth()),t.remove())})),i.format("colspan",1)}}}}],i&&E(r.prototype,i),c&&E(r,c),Object.defineProperty(r,"prototype",{writable:!1}),m}(r.default),D=t.tableCantInsert=[a.default.blotName],F=t.isForbidInTableBlot=function(t){return D.includes(t.statics.blotName)},U=t.isForbidInTable=function t(e){return!(!e||!e.parent)&&(!!F(e.parent)||t(e.parent))};q.moduleName="table",q.toolName="table",M[q.toolName]=y.default,t.default=q},void 0===(i=n.apply(e,o))||(t.exports=i)},8838:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(8903)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={insertColumnLeft:{text:"在左侧插入一列",handler:function(){this.quill.getModule("table").appendCol(),this.quill.theme.tableToolTip.curTableId=null,this.quill.theme.tableToolTip.hide()}},insertColumnRight:{text:"在右侧插入一列",handler:function(){this.quill.getModule("table").appendCol(!0),this.quill.theme.tableToolTip.curTableId=null,this.quill.theme.tableToolTip.hide()}},insertRowTop:{text:"在上方插入一行",handler:function(){this.quill.getModule("table").appendRow()}},insertRowBottom:{text:"在下方插入一行",handler:function(){this.quill.getModule("table").appendRow(!0)}},removeRow:{text:"删除所在行",handler:function(){this.quill.getModule("table").removeRow()}},removeCol:{text:"删除所在列",handler:function(){this.quill.getModule("table").removeCol(),this.quill.theme.tableToolTip.curTableId=null,this.quill.theme.tableToolTip.hide()}},removeTable:{text:"删除表格",handler:function(){this.quill.getModule("table").removeTable(),this.quill.theme.tableToolTip.hide()}},mergeCell:{text:"合并单元格",handler:function(){this.quill.getModule("table").mergeCells(),this.quill.theme.tableToolTip.hide(),this.tableSelection.clearSelection()}}};t.default=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o=r.getModule("table");this.tableSelection=o.tableSelection,this.table=e.table,this.quill=r,this.options=n,this.menuItems={},this.optionsMerge(),this.boundary=this.tableSelection.boundary,this.selectedTds=this.tableSelection.selectedTds,this.destroyHandler=this.destroy.bind(this),this.menuInitial(e),this.mount(),document.addEventListener("click",this.destroyHandler,!1)}return r=t,(i=[{key:"optionsMerge",value:function(){var t,e,r,n;this.options.replaceItems?this.menuItems=null!==(t=null===(e=this.options)||void 0===e?void 0:e.items)&&void 0!==t?t:{}:this.menuItems=Object.assign({},o,null!==(r=null===(n=this.options)||void 0===n?void 0:n.items)&&void 0!==r?r:{})}},{key:"mount",value:function(){document.body.appendChild(this.domNode)}},{key:"menuInitial",value:function(t){t.table,t.row,t.cell;var r=t.left,n=t.top;this.domNode=document.createElement("div"),this.domNode.classList.add("ql-table-operation-menu");var i,a,l,u={position:"absolute","min-height":"".concat(150,"px"),width:"".concat(200,"px")},c=window,s=c.innerWidth,f=c.innerHeight;for(var d in r>s-200?u.right="".concat(s-r,"px"):u.left="".concat(r,"px"),n>f-150?u.bottom="".concat(f-n,"px"):u.top="".concat(n,"px"),(0,e.css)(this.domNode,u),this.menuItems)this.menuItems[d]&&(this.menuItems[d].subTitle&&this.domNode.appendChild((a=this.menuItems[d].subTitle,l=void 0,(l=document.createElement("div")).classList.add("ql-table-operation-menu-subtitle"),l.innerText=a,l)),this.domNode.appendChild(this.menuItemCreator(Object.assign({},o[d],this.menuItems[d]))),(["insertRowBottom","removeTable","mergeCell"].indexOf(d)>-1||this.menuItems[d].groupEnd)&&this.domNode.appendChild((i=void 0,(i=document.createElement("div")).classList.add("ql-table-operation-menu-dividing"),i)))}},{key:"destroy",value:function(){return this.domNode.remove(),document.removeEventListener("click",this.destroyHandler,!1),null}},{key:"menuItemCreator",value:function(t){var e=t.text,r=t.iconSrc,n=t.handler,o=document.createElement("div");if(o.classList.add("ql-table-operation-menu-item"),r){var i=document.createElement("span");i.classList.add("ql-table-operation-menu-icon"),i.innerHTML=r,o.appendChild(i)}var a=document.createElement("span");return a.classList.add("ql-table-operation-menu-text"),a.innerText=e,o.appendChild(a),o.addEventListener("click",n.bind(this),!1),o}}])&&n(r.prototype,i),a&&n(r,a),Object.defineProperty(r,"prototype",{writable:!1}),t;var r,i,a}()})?n.apply(e,o):n)||(t.exports=i)},6318:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(7436),r(7014),r(8903)],void 0===(i="function"==typeof(n=function(t,e,r,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,a=void 0,a=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===i(a)?a:String(a)),n)}var o,a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=o(e),r=o(r);var c="#0589f3";t.default=function(){function t(e,r,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)return null;this.table=e,this.quill=r,this.options=n,this.optionsMerge(),this.boundary={},this.selectedTds=[],this.dragging=!1,this.selectingHandler=this.mouseDownHandler.bind(this),this.clearSelectionHandler=this.clearSelection.bind(this),this.cellSelect=null,this.scrollHandler=[],this.helpLinesInitial(),this.quill.root.addEventListener("mousedown",this.selectingHandler,!1),this.quill.on("text-change",this.clearSelectionHandler)}return o=t,(i=[{key:"optionsMerge",value:function(){var t;(null===(t=this.options)||void 0===t?void 0:t.primaryColor)&&(c=this.options.primaryColor)}},{key:"addScrollEvent",value:function(t,e){t.addEventListener("scroll",e),this.scrollHandler.push([t,e])}},{key:"clearScrollEvent",value:function(){for(var t=0;t<this.scrollHandler.length;t++){var e=a(this.scrollHandler[t],2),r=e[0],n=e[1];r.removeEventListener("scroll",n)}this.scrollHandler=[]}},{key:"helpLinesInitial",value:function(){var t=this.quill.root.parentNode;this.cellSelect=document.createElement("div"),this.cellSelect.classList.add("ql-table-selection_line"),(0,n.css)(this.cellSelect,{"border-color":c}),t.appendChild(this.cellSelect)}},{key:"mouseDownHandler",value:function(t){var e=this;if(0===t.button&&t.target.closest(".ql-table")){var r=t.target.closest(".ql-table").dataset.tableId,o=function(t){if(0===t.button&&t.target.closest(".ql-table")&&t.target.closest(".ql-table").dataset.tableId===r){var o=t.target.closest("td[data-row-id]"),l=(0,n.getRelativeRect)(o.getBoundingClientRect(),e.quill.root.parentNode);e.boundary=(0,n.computeBoundaryFromRects)(a,l),e.correctBoundary(),e.selectedTds=e.computeSelectedTds(),e.repositionHelpLines(),i!==o&&e.quill.blur()}};document.body.addEventListener("mousemove",o,!1),document.body.addEventListener("mouseup",(function t(r){document.body.removeEventListener("mousemove",o,!1),document.body.removeEventListener("mouseup",t,!1),e.dragging=!1}),!1);var i=t.target.closest("td[data-row-id]"),a=(0,n.getRelativeRect)(i.getBoundingClientRect(),this.quill.root.parentNode);this.dragging=!0,this.boundary=(0,n.computeBoundaryFromRects)(a,a),this.correctBoundary(),this.selectedTds=this.computeSelectedTds(),this.repositionHelpLines(),this.addScrollEvent(this.table.parentNode,(function(){e.repositionHelpLines()}))}}},{key:"computeSelectedTds",value:function(){var t=this;return e.default.find(this.table).descendants(r.default).reduce((function(e,r){var o=(0,n.getRelativeRect)(r.domNode.getBoundingClientRect(),t.quill.root.parentNode),i=o.x,a=o.y,l=o.width,u=o.height;return i+2>=t.boundary.x&&i-2+l<=t.boundary.x1&&a+2>=t.boundary.y&&a-2+u<=t.boundary.y1&&e.push(r),e}),[])}},{key:"correctBoundary",value:function(){var t=this;e.default.find(this.table).descendants(r.default).forEach((function(e){var r=(0,n.getRelativeRect)(e.domNode.getBoundingClientRect(),t.quill.root.parentNode),o=r.x,i=r.y,a=r.width,l=r.height;(o+2>=t.boundary.x&&o+2<=t.boundary.x1||o-2+a>=t.boundary.x&&o-2+a<=t.boundary.x1)&&(i+2>=t.boundary.y&&i+2<=t.boundary.y1||i-2+l>=t.boundary.y&&i-2+l<=t.boundary.y1)&&(t.boundary=(0,n.computeBoundaryFromRects)(t.boundary,{x:o,y:i,width:a,height:l}))})),this.scrollX=this.table.parentNode.scrollLeft}},{key:"repositionHelpLines",value:function(){var t=this.table.parentNode.scrollLeft,e=this.quill.root.parentNode.scrollTop;(0,n.css)(this.cellSelect,{display:"block",left:"".concat(this.boundary.x+(this.scrollX-t)-1,"px"),top:"".concat(2*e+this.boundary.y,"px"),width:"".concat(this.boundary.width+1,"px"),height:"".concat(this.boundary.height+1,"px")})}},{key:"clearSelection",value:function(){this.boundary={},this.selectedTds=[],(0,n.css)(this.cellSelect,{display:"none"}),this.clearScrollEvent()}},{key:"destroy",value:function(){return this.cellSelect.remove(),this.cellSelect=null,this.clearScrollEvent(),this.quill.root.removeEventListener("mousedown",this.selectingHandler,!1),this.quill.off("text-change",this.clearSelectionHandler),null}}])&&u(o.prototype,i),l&&u(o,l),Object.defineProperty(o,"prototype",{writable:!1}),t;var o,i,l}()})?n.apply(e,o):n)||(t.exports=i)},863:function(t,e,r){var n,o,i;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e,r(835),r(7514),r(1520),r(1883),r(6504),r(8903)],void 0===(i="function"==typeof(n=function(t,e,r,n,o,i,a){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,l=[],u=!0,c=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||f(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),n)}var o,i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,e=l(e),n=l(n),o=l(o),i=l(i);var h=12;(t.default=function(){function t(e,r){var n=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.quill=e,this.options=r,this.optionsMerge(),this.boundsContainer=document.body,this.tableWrapper=null,this.table=null,this.curTableId="",this.focusTableChange=!1,this.tableCols=[],this.scrollHandler=[],this.tableDisableToolHandlers={},this.root=e.addContainer("ql-table-tooltip"),this.root.style.height=h+"px",new ResizeObserver((function(t){n.hide(),n.curTableId=""})).observe(this.quill.root),this.hide(),this.listen()}return l=t,(u=[{key:"optionsMerge",value:function(){var e,r;(null===(e=this.options)||void 0===e?void 0:e.tipHeight)&&(h=this.options.tipHeight),t.disableToolNames=Array.from(new Set([].concat(s(t.disableToolNames),s((null===(r=this.options)||void 0===r?void 0:r.disableToolNames)||[]))))}},{key:"listen",value:function(){var t=this;this.quill.on(e.default.events.SELECTION_CHANGE,(function(e,a,l){if(null!=e){if(0===e.length){var u=c(t.quill.scroll.descendant(n.default,e.index),2),s=u[0],f=u[1];if(null!==s){var d;t.disableFromTable(),t.tableWrapper=s,t.table=s.children.head;for(var p=s.children.tail;p&&p.statics.blotName!==o.default.blotName;){var h;p=null===(h=p.children)||void 0===h?void 0:h.tail}var y=null===(d=s.children.head)||void 0===d||null===(d=d.children)||void 0===d?void 0:d.head;y.statics.blotName===i.default.blotName&&y.children.length?t.tableCols=y.children.map((function(t){return t})):t.tableCols=[];var m=s.children.head.tableId();return t.curTableId!==m&&(t.clearScrollEvent(),t.focusTableChange=!0,t.addScrollEvent(t.tableWrapper.domNode,t.scrollSync.bind(t,t.tableWrapper.domNode))),t.curTableId=m,t.tableRange=new r.Range(e.index-f,s.length()),t.show(),void t.position(t.quill.getBounds(t.tableRange))}delete t.tableRange}t.hide()}}))}},{key:"disableFromTable",value:function(){this.toggleDisableToolbarTools("add");var e=this.quill.getModule("toolbar");if(!e.disableByTable){e.disableByTable=!0;var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){l=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}(t.disableToolNames);try{for(n.s();!(r=n.n()).done;){var o=r.value;this.tableDisableToolHandlers[o]=e.handlers[o],e.handlers[o]=function(){}}}catch(t){n.e(t)}finally{n.f()}}}},{key:"enableFromTable",value:function(){this.toggleDisableToolbarTools("remove");var t=this.quill.getModule("toolbar");for(var e in this.tableDisableToolHandlers)t.handlers[e]=this.tableDisableToolHandlers[e];this.tableDisableToolHandlers={},t.disableByTable=!1}},{key:"toggleDisableToolbarTools",value:function(e){this.quill.getModule("toolbar").controls.map((function(r){var n=c(r,2),o=n[0],i=n[1];t.disableToolNames.includes(o)&&("select"===i.tagName.toLowerCase()?document.querySelector(".ql-select.".concat(i.className)).classList[e]("ql-disabled-table"):i.classList[e]("ql-disabled-table"))}))}},{key:"scrollSync",value:function(t,e){this.root.scrollLeft=t.scrollLeft}},{key:"addScrollEvent",value:function(t,e){t.addEventListener("scroll",e),this.scrollHandler.push([t,e])}},{key:"clearScrollEvent",value:function(){for(var t=0;t<this.scrollHandler.length;t++){var e=c(this.scrollHandler[t],2),r=e[0],n=e[1];r.removeEventListener("scroll",n)}this.scrollHandler=[]}},{key:"position",value:function(t){(0,a.css)(this.root,{top:"".concat(t.top+this.quill.container.scrollTop-h,"px"),left:"".concat(16,"px")})}},{key:"show",value:function(){var t=this;if(this.tableCols.length){if(this.focusTableChange){var e=this.tableWrapper.domNode.getBoundingClientRect();this.root.dataset.tableId=this.tableWrapper.tableId(),this.root.innerHTML=s(this.tableCols).map((function(t){var r=t.getWidth();return'<div class="ql-table-col-header" style="width: '.concat(r,'px">\n            \t\t\t<div class="ql-table-col-separator" style="height: ').concat(e.height+h-3,'px"></div>\n            \t\t</div>')})).join(""),this.focusTableChange=!1,this.bindDrag()}setTimeout((function(){t.scrollSync(t.tableWrapper.domNode)}),0),this.root.classList.remove("ql-hidden")}}},{key:"hide",value:function(){this.root.classList.add("ql-hidden"),this.enableFromTable()}},{key:"bindDrag",value:function(){var t=this,e=null,r=-1,n=Array.from(this.root.getElementsByClassName("ql-table-col-header")),o=Array.from(this.root.getElementsByClassName("ql-table-col-separator")),i=function(t){var o=n[r].getBoundingClientRect(),i=t.pageX;t.pageX-o.left<26&&(i=o.left+26),i=Math.floor(i),e.style.left=i+"px",e.dataset.w=i-o.left},l=function o(a){var l=parseInt(e.dataset.w);t.table.domNode.style.width=parseFloat(t.table.domNode.style.width)-parseFloat(n[r].style.width)+l+"px",n[r].style.width=l+"px",t.tableCols[r].format("width",l),document.body.removeChild(e),e=null,r=-1,document.removeEventListener("mouseup",o),document.removeEventListener("mousemove",i)},u=function(n,o){document.addEventListener("mouseup",l),document.addEventListener("mousemove",i),r=n;var u=t.tableWrapper.domNode.getBoundingClientRect(),c=document.createElement("div");c.classList.add("ql-table-drag-line"),(0,a.css)(c,{top:"".concat(u.y-h,"px"),left:"".concat(o.pageX,"px"),height:"".concat(u.height+h,"px")}),document.body.appendChild(c),e&&document.body.removeChild(e),e=c};o.map((function(e,r){e.addEventListener("mousedown",u.bind(t,r)),e.addEventListener("dragstart",(function(t){t.preventDefault()}))}))}}])&&p(l.prototype,u),d&&p(l,d),Object.defineProperty(l,"prototype",{writable:!1}),t;var l,u,d}()).disableToolNames=["table"]})?n.apply(e,o):n)||(t.exports=i)},8903:function(t,e){var r,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=function(t){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function r(){r=function(){return n};var t,n={},o=Object.prototype,i=o.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},l="function"==typeof Symbol?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag";function f(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),l=new C(n||[]);return a(i,"_invoke",{value:T(t,r,l)}),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=d;var h="suspendedStart",y="suspendedYield",m="executing",b="completed",v={};function g(){}function w(){}function N(){}var O={};f(O,u,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(L([])));x&&x!==o&&i.call(x,u)&&(O=x);var E=N.prototype=g.prototype=Object.create(O);function j(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,r){function n(o,a,l,u){var c=p(t[o],t,a);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==e(f)&&i.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,l,u)}),(function(t){n("throw",t,l,u)})):r.resolve(f).then((function(t){s.value=t,l(s)}),(function(t){return n("throw",t,l,u)}))}u(c.arg)}var o;a(this,"_invoke",{value:function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}})}function T(e,r,n){var o=h;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===b){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var l=n.delegate;if(l){var u=A(l,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=b,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var c=p(e,r,n);if("normal"===c.type){if(o=n.done?b:y,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=b,n.method="throw",n.arg=c.arg)}}}function A(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function L(r){if(r||""===r){var n=r[u];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,a=function e(){for(;++o<r.length;)if(i.call(r,o))return e.value=r[o],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw new TypeError(e(r)+" is not iterable")}return w.prototype=N,a(E,"constructor",{value:N,configurable:!0}),a(N,"constructor",{value:w,configurable:!0}),w.displayName=f(N,s,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,N):(t.__proto__=N,f(t,s,"GeneratorFunction")),t.prototype=Object.create(E),t},n.awrap=function(t){return{__await:t}},j(S.prototype),f(S.prototype,c,(function(){return this})),n.AsyncIterator=S,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new S(d(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(E),f(E,s,"Generator"),f(E,u,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=L,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return l.type="throw",l.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},n}function n(t,e,r,n,o,i,a){try{var l=t[i](a),u=l.value}catch(t){return void r(t)}l.done?e(u):Promise.resolve(u).then(n,o)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function l(t){n(a,o,i,l,u,"next",t)}function u(t){n(a,o,i,l,u,"throw",t)}l(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.computeBoundaryFromRects=function(t,e){var r=Math.min(t.x,e.x,t.x+t.width-1,e.x+e.width-1),n=Math.max(t.x,e.x,t.x+t.width-1,e.x+e.width-1),o=Math.min(t.y,e.y,t.y+t.height-1,e.y+e.height-1),i=Math.max(t.y,e.y,t.y+t.height-1,e.y+e.height-1);return{x:r,x1:n,y:o,y1:i,width:n-r,height:i-o}},t.createInputItem=void 0,t.css=function(t,r){if("object"===e(r))for(var n in r)t.style[n]=r[n]},t.dialog=void 0,t.getRelativeRect=function(t,e){var r=e.getBoundingClientRect();return{x:t.x-r.x-e.scrollLeft,y:t.y-r.y-e.scrollTop,x1:t.x-r.x-e.scrollLeft+t.width,y1:t.y-r.y-e.scrollTop+t.height,width:t.width,height:t.height}},t.showTableCreator=t.randomId=void 0,t.randomId=function(){return Math.random().toString(36).slice(2)};var i=8e3,a=t.dialog=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.child,r=t.target,n=void 0===r?document.body:r,o=t.beforeClose,a=void 0===o?function(){}:o,l=n,u=document.createElement("div");u.classList.add("dialog"),u.style.zIndex=i;var c=document.createElement("div");if(c.classList.add("dialog_overlay"),u.appendChild(c),e){var s=document.createElement("div");s.classList.add("dialog_content"),s.appendChild(e),c.appendChild(s),s.onclick=function(t){t.stopPropagation()}}var f=getComputedStyle(l).overflow;l.style.overflow="hidden",l.appendChild(u);var d=function(){a(),u.remove(),l.style.overflow=f};return u.onclick=d,i+=1,{dialog:u,close:d}},l=t.createInputItem=function(t,e){e.type||(e.type="text"),e.value||(e.value="");var r=document.createElement("div");if(r.classList.add("input_item"),t){var n=document.createElement("span");n.classList.add("input_label"),n.innerText=t,r.appendChild(n)}var o=document.createElement("div");o.classList.add("input_input");var i=document.createElement("input");for(var a in e)i.setAttribute(a,e[a]);return(e.max||e.min)&&i.addEventListener("blur",(function(){e.max&&e.max<=i.value&&(i.value=e.max),e.min&&e.min>=i.value&&(i.value=e.min)})),o.appendChild(i),r.appendChild(o),i.onfocus=function(){o.classList.add("focus")},i.onblur=function(){o.classList.remove("focus")},{item:r,input:i,errorTip:function t(e){if(o.classList.contains("error"))o.querySelector(".error_tip").innerText=e;else{var r=document.createElement("span");r.classList.add("error_tip"),r.innerText=e,o.appendChild(r)}return o.classList.add("error"),{removeError:function(){o.classList.remove("error"),t.remove()}}}}};t.showTableCreator=function(){var t=o(r().mark((function t(){var e,n,i,u,c,s,f,d,p,h,y,m,b,v,g,w=arguments;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=w.length>0&&void 0!==w[0]?w[0]:3,n=w.length>1&&void 0!==w[1]?w[1]:3,(i=document.createElement("div")).classList.add("create_box"),(u=document.createElement("div")).classList.add("create_input_content"),c=l("row",{type:"number",value:e,max:99}),s=c.item,f=c.input,d=c.errorTip,p=l("col",{type:"number",value:n,max:99}),h=p.item,y=p.input,m=p.errorTip,u.appendChild(s),u.appendChild(h),i.appendChild(u),(b=document.createElement("div")).classList.add("create_control"),(v=document.createElement("button")).classList.add("create_control_btn","confirm"),v.innerText="Confirm",(g=document.createElement("button")).classList.add("create_control_btn","cancel"),g.innerText="Cancel",b.appendChild(v),b.appendChild(g),i.appendChild(b),t.abrupt("return",new Promise((function(t,e){var n=a({child:i,beforeClose:e}).close;v.onclick=o(r().mark((function e(){var o,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Number(f.value),i=Number(y.value),!(isNaN(o)||o<=0)){e.next=4;break}return e.abrupt("return",d("Invalid number"));case 4:if(!(isNaN(i)||i<=0)){e.next=6;break}return e.abrupt("return",m("Invalid number"));case 6:t({row:o,col:i}),n();case 8:case"end":return e.stop()}}),e)}))),g.onclick=function(){n()}})));case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},void 0===(n=r.apply(e,[e]))||(t.exports=n)},1924:(t,e,r)=>{"use strict";var n=r(210),o=r(5559),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?o(r):r}},5559:(t,e,r)=>{"use strict";var n=r(8612),o=r(210),i=r(7771),a=o("%TypeError%"),l=o("%Function.prototype.apply%"),u=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(u,l),s=o("%Object.defineProperty%",!0),f=o("%Math.max%");if(s)try{s({},"a",{value:1})}catch(t){s=null}t.exports=function(t){if("function"!=typeof t)throw new a("a function is required");var e=c(n,u,arguments);return i(e,1+f(0,t.length-(arguments.length-1)),!0)};var d=function(){return c(n,l,arguments)};s?s(t.exports,"apply",{value:d}):t.exports.apply=d},6313:t=>{var e=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var e,r,n;try{e=Map}catch(t){e=function(){}}try{r=Set}catch(t){r=function(){}}try{n=Promise}catch(t){n=function(){}}function o(i,l,u,c,s){"object"==typeof l&&(u=l.depth,c=l.prototype,s=l.includeNonEnumerable,l=l.circular);var f=[],d=[],p="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===u&&(u=1/0),function i(u,h){if(null===u)return null;if(0===h)return u;var y,m;if("object"!=typeof u)return u;if(t(u,e))y=new e;else if(t(u,r))y=new r;else if(t(u,n))y=new n((function(t,e){u.then((function(e){t(i(e,h-1))}),(function(t){e(i(t,h-1))}))}));else if(o.__isArray(u))y=[];else if(o.__isRegExp(u))y=new RegExp(u.source,a(u)),u.lastIndex&&(y.lastIndex=u.lastIndex);else if(o.__isDate(u))y=new Date(u.getTime());else{if(p&&Buffer.isBuffer(u))return y=Buffer.allocUnsafe?Buffer.allocUnsafe(u.length):new Buffer(u.length),u.copy(y),y;t(u,Error)?y=Object.create(u):void 0===c?(m=Object.getPrototypeOf(u),y=Object.create(m)):(y=Object.create(c),m=c)}if(l){var b=f.indexOf(u);if(-1!=b)return d[b];f.push(u),d.push(y)}for(var v in t(u,e)&&u.forEach((function(t,e){var r=i(e,h-1),n=i(t,h-1);y.set(r,n)})),t(u,r)&&u.forEach((function(t){var e=i(t,h-1);y.add(e)})),u){var g;m&&(g=Object.getOwnPropertyDescriptor(m,v)),g&&null==g.set||(y[v]=i(u[v],h-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(v=0;v<w.length;v++){var N=w[v];(!(_=Object.getOwnPropertyDescriptor(u,N))||_.enumerable||s)&&(y[N]=i(u[N],h-1),_.enumerable||Object.defineProperty(y,N,{enumerable:!1}))}}if(s){var O=Object.getOwnPropertyNames(u);for(v=0;v<O.length;v++){var _,x=O[v];(_=Object.getOwnPropertyDescriptor(u,x))&&_.enumerable||(y[x]=i(u[x],h-1),Object.defineProperty(y,x,{enumerable:!1}))}}return y}(i,u)}function i(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return o.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},o.__objToStr=i,o.__isDate=function(t){return"object"==typeof t&&"[object Date]"===i(t)},o.__isArray=function(t){return"object"==typeof t&&"[object Array]"===i(t)},o.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===i(t)},o.__getRegExpFlags=a,o}();t.exports&&(t.exports=e)},251:(t,e,r)=>{var n=r(2215),o=r(2584),i=r(609),a=r(8420),l=r(2847),u=r(8923),c=Date.prototype.getTime;function s(t){return null==t}function f(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}t.exports=function t(e,r,d){var p=d||{};return!!(p.strict?i(e,r):e===r)||(!e||!r||"object"!=typeof e&&"object"!=typeof r?p.strict?i(e,r):e==r:function(e,r,i){var d,p;if(typeof e!=typeof r)return!1;if(s(e)||s(r))return!1;if(e.prototype!==r.prototype)return!1;if(o(e)!==o(r))return!1;var h=a(e),y=a(r);if(h!==y)return!1;if(h||y)return e.source===r.source&&l(e)===l(r);if(u(e)&&u(r))return c.call(e)===c.call(r);var m=f(e),b=f(r);if(m!==b)return!1;if(m||b){if(e.length!==r.length)return!1;for(d=0;d<e.length;d++)if(e[d]!==r[d])return!1;return!0}if(typeof e!=typeof r)return!1;try{var v=n(e),g=n(r)}catch(t){return!1}if(v.length!==g.length)return!1;for(v.sort(),g.sort(),d=v.length-1;d>=0;d--)if(v[d]!=g[d])return!1;for(d=v.length-1;d>=0;d--)if(!t(e[p=v[d]],r[p],i))return!1;return!0}(e,r,p))}},2296:(t,e,r)=>{"use strict";var n=r(1044)(),o=r(210),i=n&&o("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch(t){i=!1}var a=o("%SyntaxError%"),l=o("%TypeError%"),u=r(7296);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new l("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new l("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new l("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new l("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new l("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new l("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,s=arguments.length>6&&arguments[6],f=!!u&&u(t,e);if(i)i(t,e,{configurable:null===c&&f?f.configurable:!c,enumerable:null===n&&f?f.enumerable:!n,value:r,writable:null===o&&f?f.writable:!o});else{if(!s&&(n||o||c))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},4289:(t,e,r)=>{"use strict";var n=r(2215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,l=r(2296),u=r(1044)(),c=function(t,e,r,n){if(e in t)if(!0===n){if(t[e]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==i.call(o)||!n())return;var o;u?l(t,e,r,!0):l(t,e,r)},s=function(t,e){var r=arguments.length>2?arguments[2]:{},i=n(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var l=0;l<i.length;l+=1)c(t,i[l],e[i[l]],r[i[l]])};s.supportsDescriptors=!!u,t.exports=s},6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,r="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),i.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},i.prototype.listeners=function(t,e){var n=r?r+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,l=new Array(a);i<a;i++)l[i]=o[i].fn;return l},i.prototype.emit=function(t,e,n,o,i,a){var l=r?r+t:t;if(!this._events[l])return!1;var u,c,s=this._events[l],f=arguments.length;if(s.fn){switch(s.once&&this.removeListener(t,s.fn,void 0,!0),f){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,e),!0;case 3:return s.fn.call(s.context,e,n),!0;case 4:return s.fn.call(s.context,e,n,o),!0;case 5:return s.fn.call(s.context,e,n,o,i),!0;case 6:return s.fn.call(s.context,e,n,o,i,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];s.fn.apply(s.context,u)}else{var d,p=s.length;for(c=0;c<p;c++)switch(s[c].once&&this.removeListener(t,s[c].fn,void 0,!0),f){case 1:s[c].fn.call(s[c].context);break;case 2:s[c].fn.call(s[c].context,e);break;case 3:s[c].fn.call(s[c].context,e,n);break;case 4:s[c].fn.call(s[c].context,e,n,o);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];s[c].fn.apply(s[c].context,u)}}return!0},i.prototype.on=function(t,e,n){var i=new o(e,n||this),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},i.prototype.once=function(t,e,n){var i=new o(e,n||this,!0),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],i]:this._events[a].push(i):(this._events[a]=i,this._eventsCount++),this},i.prototype.removeListener=function(t,e,o,i){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new n:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==e||i&&!l.once||o&&l.context!==o||(0==--this._eventsCount?this._events=new n:delete this._events[a]);else{for(var u=0,c=[],s=l.length;u<s;u++)(l[u].fn!==e||i&&!l[u].once||o&&l[u].context!==o)&&c.push(l[u]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new n:delete this._events[a]}return this},i.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.prefixed=r,i.EventEmitter=i,t.exports=i},7648:t=>{"use strict";var e=Object.prototype.toString,r=Math.max,n=function(t,e){for(var r=[],n=0;n<t.length;n+=1)r[n]=t[n];for(var o=0;o<e.length;o+=1)r[o+t.length]=e[o];return r};t.exports=function(t){var o=this;if("function"!=typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(t,e){for(var r=[],n=1,o=0;n<t.length;n+=1,o+=1)r[o]=t[n];return r}(arguments),l=r(0,o.length-a.length),u=[],c=0;c<l;c++)u[c]="$"+c;if(i=Function("binder","return function ("+function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=",");return r}(u)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=o.apply(this,n(a,arguments));return Object(e)===e?e:this}return o.apply(t,n(a,arguments))})),o.prototype){var s=function(){};s.prototype=o.prototype,i.prototype=new s,s.prototype=null}return i}},8612:(t,e,r)=>{"use strict";var n=r(7648);t.exports=Function.prototype.bind||n},5972:t=>{"use strict";var e=function(){return"string"==typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(t){r=null}e.functionsHaveConfigurableNames=function(){if(!e()||!r)return!1;var t=r((function(){}),"name");return!!t&&!!t.configurable};var n=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof n&&""!==function(){}.bind().name},t.exports=e},210:(t,e,r)=>{"use strict";var n,o=SyntaxError,i=Function,a=TypeError,l=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var c=function(){throw new a},s=u?function(){try{return c}catch(t){try{return u(arguments,"callee").get}catch(t){return c}}}():c,f=r(1405)(),d=r(8185)(),p=Object.getPrototypeOf||(d?function(t){return t.__proto__}:null),h={},y="undefined"!=typeof Uint8Array&&p?p(Uint8Array):n,m={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f&&p?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&p?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&p?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&p?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&p?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":s,"%TypedArray%":y,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(p)try{null.error}catch(t){var b=p(p(t));m["%Error.prototype%"]=b}var v=function t(e){var r;if("%AsyncFunction%"===e)r=l("async function () {}");else if("%GeneratorFunction%"===e)r=l("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=l("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&p&&(r=p(o.prototype))}return m[e]=r,r},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=r(8612),N=r(8824),O=w.call(Function.call,Array.prototype.concat),_=w.call(Function.apply,Array.prototype.splice),x=w.call(Function.call,String.prototype.replace),E=w.call(Function.call,String.prototype.slice),j=w.call(Function.call,RegExp.prototype.exec),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,A=function(t,e){var r,n=t;if(N(g,n)&&(n="%"+(r=g[n])[0]+"%"),N(m,n)){var i=m[n];if(i===h&&(i=v(n)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===j(/^%?[^%]*%?$/,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(t){var e=E(t,0,1),r=E(t,-1);if("%"===e&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return x(t,S,(function(t,e,r,o){n[n.length]=r?x(o,T,"$1"):e||t})),n}(t),n=r.length>0?r[0]:"",i=A("%"+n+"%",e),l=i.name,c=i.value,s=!1,f=i.alias;f&&(n=f[0],_(r,O([0,1],f)));for(var d=1,p=!0;d<r.length;d+=1){var h=r[d],y=E(h,0,1),b=E(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===b||"'"===b||"`"===b)&&y!==b)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&p||(s=!0),N(m,l="%"+(n+="."+h)+"%"))c=m[l];else if(null!=c){if(!(h in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&d+1>=r.length){var v=u(c,h);c=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[h]}else p=N(c,h),c=c[h];p&&!s&&(m[l]=c)}}return c}},7296:(t,e,r)=>{"use strict";var n=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(t){n=null}t.exports=n},1044:(t,e,r)=>{"use strict";var n=r(210)("%Object.defineProperty%",!0),o=function(){if(n)try{return n({},"a",{value:1}),!0}catch(t){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},8185:t=>{"use strict";var e={foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof r)}},1405:(t,e,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(5419);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},6410:(t,e,r)=>{"use strict";var n=r(5419);t.exports=function(){return n()&&!!Symbol.toStringTag}},8824:(t,e,r)=>{"use strict";var n=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=r(8612);t.exports=i.call(n,o)},9801:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>n});const n='<svg viewBox="0 0 24 24"><path class="ql-stroke" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5zm0 5h18M10 3v18"/></svg>'},2584:(t,e,r)=>{"use strict";var n=r(6410)(),o=r(1924)("Object.prototype.toString"),i=function(t){return!(n&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===o(t)},a=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},l=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=l?i:a},8923:(t,e,r)=>{"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i=r(6410)();t.exports=function(t){return"object"==typeof t&&null!==t&&(i?function(t){try{return n.call(t),!0}catch(t){return!1}}(t):"[object Date]"===o.call(t))}},8420:(t,e,r)=>{"use strict";var n,o,i,a,l=r(1924),u=r(6410)();if(u){n=l("Object.prototype.hasOwnProperty"),o=l("RegExp.prototype.exec"),i={};var c=function(){throw i};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var s=l("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!=typeof t)return!1;var e=f(t,"lastIndex");if(!e||!n(e,"value"))return!1;try{o(t,a)}catch(t){return t===i}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===s(t)}},4244:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:t===r||!(!e(t)||!e(r))}},609:(t,e,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(4244),a=r(5624),l=r(2281),u=o(a(),Object);n(u,{getPolyfill:a,implementation:i,shim:l}),t.exports=u},5624:(t,e,r)=>{"use strict";var n=r(4244);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},2281:(t,e,r)=>{"use strict";var n=r(5624),o=r(4289);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8987:(t,e,r)=>{"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(1414),l=Object.prototype.propertyIsEnumerable,u=!l.call({toString:null},"toString"),c=l.call((function(){}),"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===i.call(t),n=a(t),l=e&&"[object String]"===i.call(t),d=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=c&&r;if(l&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)d.push(String(y));if(n&&t.length>0)for(var m=0;m<t.length;++m)d.push(String(m));else for(var b in t)h&&"prototype"===b||!o.call(t,b)||d.push(String(b));if(u)for(var v=function(t){if("undefined"==typeof window||!p)return f(t);try{return f(t)}catch(t){return!1}}(t),g=0;g<s.length;++g)v&&"constructor"===s[g]||!o.call(t,s[g])||d.push(s[g]);return d}}t.exports=n},2215:(t,e,r)=>{"use strict";var n=Array.prototype.slice,o=r(1414),i=Object.keys,a=i?function(t){return i(t)}:r(8987),l=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?l(n.call(t)):l(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},1414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},347:function(t){var e;"undefined"!=typeof self&&self,e=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9)}([function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var r=this;return e="[Parchment] "+e,(r=t.call(this,e)||this).message=e,r.name=r.constructor.name,r}return o(e,t),e}(Error);e.ParchmentError=i;var a,l={},u={},c={},s={};function f(t,e){var r;if(void 0===e&&(e=a.ANY),"string"==typeof t)r=s[t]||l[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)r=s.text;else if("number"==typeof t)t&a.LEVEL&a.BLOCK?r=s.block:t&a.LEVEL&a.INLINE&&(r=s.inline);else if(t instanceof HTMLElement){var n=(t.getAttribute("class")||"").split(/\s+/);for(var o in n)if(r=u[n[o]])break;r=r||c[t.tagName]}return null==r?null:e&a.LEVEL&r.scope&&e&a.TYPE&r.scope?r:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(a=e.Scope||(e.Scope={})),e.create=function(t,e){var r=f(t);if(null==r)throw new i("Unable to create "+t+" blot");var n=r,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:n.create(e);return new n(o,e)},e.find=function t(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[e.DATA_KEY]?r[e.DATA_KEY].blot:n?t(r.parentNode,n):null},e.query=f,e.register=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(e.length>1)return e.map((function(e){return t(e)}));var n=e[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");return s[n.blotName||n.attrName]=n,"string"==typeof n.keyName?l[n.keyName]=n:(null!=n.className&&(u[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(t){return t.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(t){null!=c[t]&&null!=n.className||(c[t]=n)})))),n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=function(){function t(t,e,r){void 0===r&&(r={}),this.attrName=t,this.keyName=e;var o=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|o:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=n.query(t,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(11),a=r(5),l=r(0),u=function(t){function e(e){var r=t.call(this,e)||this;return r.build(),r}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var r=c(e);t.insertBefore(r,t.children.head||void 0)}catch(t){if(t instanceof l.ParchmentError)return;throw t}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,r){t.deleteAt(e,r)}))},e.prototype.descendant=function(t,r){var n=this.children.find(r),o=n[0],i=n[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof e?o.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var o=[],i=n;return this.children.forEachAt(r,n,(function(r,n,a){(null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t)&&o.push(r),r instanceof e&&(o=o.concat(r.descendants(t,n,i))),i-=a})),o},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,r,n){this.children.forEachAt(t,e,(function(t,e,o){t.formatAt(e,o,r,n)}))},e.prototype.insertAt=function(t,e,r){var n=this.children.find(t),o=n[0],i=n[1];if(o)o.insertAt(i,e,r);else{var a=null==r?l.create("text",e):l.create(e,r);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new l.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(r){t.insertBefore(r,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var r=l.create(this.statics.defaultChild);this.appendChild(r),r.optimize(e)}else this.remove()},e.prototype.path=function(t,r){void 0===r&&(r=!1);var n=this.children.find(t,r),o=n[0],i=n[1],a=[[this,t]];return o instanceof e?a.concat(o.path(i,r)):(null!=o&&a.push([o,i]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(r){r instanceof e&&r.moveChildren(this),t.prototype.replace.call(this,r)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(t,this.length(),(function(t,n,o){t=t.split(n,e),r.appendChild(t)})),r},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var r=this,n=[],o=[];t.forEach((function(t){t.target===r.domNode&&"childList"===t.type&&(n.push.apply(n,t.addedNodes),o.push.apply(o,t.removedNodes))})),o.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=l.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==r.domNode||e.detach())}})),n.filter((function(t){return t.parentNode==r.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=l.find(t.nextSibling));var n=c(t);n.next==e&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,e||void 0))}))},e}(a.default);function c(t){var e=l.find(t);if(null==e)try{e=l.create(t)}catch(r){e=l.create(l.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=u},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),a=r(6),l=r(2),u=r(0),c=function(t){function e(e){var r=t.call(this,e)||this;return r.attributes=new a.default(r.domNode),r}return o(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var r=u.query(t);r instanceof i.default?this.attributes.attribute(r,e):e&&(null==r||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,r){var n=t.prototype.replaceWith.call(this,e,r);return this.attributes.copy(n),n},e.prototype.update=function(e,r){var n=this;t.prototype.update.call(this,e,r),e.some((function(t){return t.target===n.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(r,n){var o=t.prototype.wrap.call(this,r,n);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(l.default);e.default=c},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),a=r(0),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(r+=1),[this.parent.domNode,r]},e.prototype.value=function(){return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t;var t},e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=function(){function t(t){this.domNode=t,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return n.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,r,o){var i=this.isolate(t,e);if(null!=n.query(r,n.Scope.BLOT)&&o)i.wrap(r,o);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);i.wrap(a),a.format(r,o)}},t.prototype.insertAt=function(t,e,r){var o=null==r?n.create("text",e):n.create(e,r),i=this.split(t);this.parent.insertBefore(o,i)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var r=null;t.children.insertBefore(this,e),null!=e&&(r=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==r||t.domNode.insertBefore(this.domNode,r),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var r=this.split(t);return r.split(e),r},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var r="string"==typeof t?n.create(t,e):t;return r.replace(this),r},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var r="string"==typeof t?n.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},t.blotName="abstract",t}();e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(7),i=r(8),a=r(0),l=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=n.default.keys(this.domNode),r=o.default.keys(this.domNode),l=i.default.keys(this.domNode);e.concat(r).concat(l).forEach((function(e){var r=a.query(e,a.Scope.ATTRIBUTE);r instanceof n.default&&(t.attributes[r.attrName]=r)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(r){var n=e.attributes[r].value(e.domNode);t.format(r,n)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,r){return e[r]=t.attributes[r].value(t.domNode),e}),{})},t}();e.default=l},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function i(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){i(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(i(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(r(1).default);e.default=a},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function i(t){var e=t.split("-"),r=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+r}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},e}(r(1).default);e.default=a},function(t,e,r){t.exports=r(10)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),o=r(3),i=r(4),a=r(12),l=r(13),u=r(14),c=r(15),s=r(16),f=r(1),d=r(7),p=r(8),h=r(6),y=r(0),m={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:n.default,Format:o.default,Leaf:i.default,Embed:c.default,Scroll:a.default,Block:u.default,Inline:l.default,Text:s.default,Attributor:{Attribute:f.default,Class:d.default,Style:p.default,Store:h.default}};e.default=m},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,r=this.iterator();e=r();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,r=this.head;null!=r;){if(r===t)return e;e+=r.length(),r=r.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var r,n=this.iterator();r=n();){var o=r.length();if(t<o||e&&t===o&&(null==r.next||0!==r.next.length()))return[r,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,r=this.iterator();e=r();)t(e)},t.prototype.forEachAt=function(t,e,r){if(!(e<=0))for(var n,o=this.find(t),i=o[0],a=t-o[1],l=this.iterator(i);(n=l())&&a<t+e;){var u=n.length();t>a?r(n,t-a,Math.min(e,a+u-t)):r(n,0,Math.min(u,t+e-a)),a+=u}},t.prototype.map=function(t){return this.reduce((function(e,r){return e.push(t(r)),e}),[])},t.prototype.reduce=function(t,e){for(var r,n=this.iterator();r=n();)e=t(e,r);return e},t}();e.default=n},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(2),a=r(0),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=function(t){function e(e){var r=t.call(this,e)||this;return r.scroll=r,r.observer=new MutationObserver((function(t){r.update(t)})),r.observer.observe(r.domNode,l),r.attach(),r}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,r){this.update(),0===e&&r===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,r)},e.prototype.formatAt=function(e,r,n,o){this.update(),t.prototype.formatAt.call(this,e,r,n,o)},e.prototype.insertAt=function(e,r,n){this.update(),t.prototype.insertAt.call(this,e,r,n)},e.prototype.optimize=function(e,r){var n=this;void 0===e&&(e=[]),void 0===r&&(r={}),t.prototype.optimize.call(this,r);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var l=function(t,e){void 0===e&&(e=!0),null!=t&&t!==n&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),e&&l(t.parent))},u=function(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(u),t.optimize(r))},c=e,s=0;c.length>0;s+=1){if(s>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(t){var e=a.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(l(a.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=a.find(t,!1);l(e,!1),e instanceof i.default&&e.children.forEach((function(t){l(t,!1)}))}))):"attributes"===t.type&&l(e.prev)),l(e))})),this.children.forEach(u),o=(c=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,r){var n=this;void 0===r&&(r={}),(e=e||this.observer.takeRecords()).map((function(t){var e=a.find(t.target,!0);return null==e?null:null==e.domNode[a.DATA_KEY].mutations?(e.domNode[a.DATA_KEY].mutations=[t],e):(e.domNode[a.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==n&&null!=t.domNode[a.DATA_KEY]&&t.update(t.domNode[a.DATA_KEY].mutations||[],r)})),null!=this.domNode[a.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,r),this.optimize(e,r)},e.blotName="scroll",e.defaultChild="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="DIV",e}(i.default);e.default=u},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),a=r(0),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(r){if(r.tagName!==e.tagName)return t.formats.call(this,r)},e.prototype.format=function(r,n){var o=this;r!==this.statics.blotName||n?t.prototype.format.call(this,r,n):(this.children.forEach((function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,r,n,o){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(e,r).format(n,o):t.prototype.formatAt.call(this,e,r,n,o)},e.prototype.optimize=function(r){t.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0}(n,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=a.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=l},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),a=r(0),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(r){var n=a.query(e.blotName).tagName;if(r.tagName!==n)return t.formats.call(this,r)},e.prototype.format=function(r,n){null!=a.query(r,a.Scope.BLOCK)&&(r!==this.statics.blotName||n?t.prototype.format.call(this,r,n):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,r,n,o){null!=a.query(n,a.Scope.BLOCK)?this.format(n,o):t.prototype.formatAt.call(this,e,r,n,o)},e.prototype.insertAt=function(e,r,n){if(null==n||null!=a.query(r,a.Scope.INLINE))t.prototype.insertAt.call(this,e,r,n);else{var o=this.split(e),i=a.create(r,n);o.parent.insertBefore(i,o)}},e.prototype.update=function(e,r){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,r)},e.blotName="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="P",e}(i.default);e.default=l},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,r){t.prototype.formatAt.call(this,0,this.length(),e,r)},e.prototype.formatAt=function(e,r,n,o){0===e&&r===this.length()?this.format(n,o):t.prototype.formatAt.call(this,e,r,n,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(r(4).default);e.default=i},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(4),a=r(0),l=function(t){function e(e){var r=t.call(this,e)||this;return r.text=r.statics.value(r.domNode),r}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,r,n){null==n?(this.text=this.text.slice(0,e)+r+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,r,n)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(r){t.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var r=a.create(this.domNode.splitText(t));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},e.prototype.update=function(t,e){var r=this;t.some((function(t){return"characterData"===t.type&&t.target===r.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=l}])},t.exports=e()},835:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>l});var n=r(6729),o=r.n(n);let i=(0,r(369).Z)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,((...t)=>{[].slice.call(document.querySelectorAll(".ql-container")).forEach((e=>{e.__quill&&e.__quill.emitter&&e.__quill.emitter.handleDOM(...t)}))}))}));class a extends(o()){constructor(){super(),this.listeners={},this.on("error",i.error)}emit(){i.log.apply(i,arguments),super.emit.apply(this,arguments)}handleDOM(t,...e){(this.listeners[t.type]||[]).forEach((function({node:r,handler:n}){(t.target===r||r.contains(t.target))&&n(t,...e)}))}listenDOM(t,e,r){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:r})}}a.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},a.sources={API:"api",SILENT:"silent",USER:"user"};const l=a},369:(t,e,r)=>{"use strict";r.d(e,{Z:()=>l});let n=["error","warn","log","info"],o="warn";function i(t,...e){n.indexOf(t)<=n.indexOf(o)&&console[t](...e)}function a(t){return n.reduce((function(e,r){return e[r]=i.bind(console,r,t),e}),{})}i.level=a.level=function(t){o=t};const l=a},5937:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>o});class n{constructor(t,e={}){this.quill=t,this.options=e}}n.DEFAULTS={};const o=n},7514:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Range:()=>f,default:()=>d});var n=r(347),o=r.n(n),i=r(6313),a=r.n(i),l=r(251),u=r.n(l),c=r(835);let s=(0,r(369).Z)("quill:selection");class f{constructor(t,e=0){this.index=t,this.length=e}}class d{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o().create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||setTimeout(this.update.bind(this,c.default.sources.USER),1)})),this.emitter.on(c.default.events.EDITOR_CHANGE,((t,e)=>{t===c.default.events.TEXT_CHANGE&&e.length()>0&&this.update(c.default.sources.SILENT)})),this.emitter.on(c.default.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;let t=this.getNativeRange();null!=t&&t.start.node!==this.cursor.textNode&&this.emitter.once(c.default.events.SCROLL_UPDATE,(()=>{try{this.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}}))})),this.emitter.on(c.default.events.SCROLL_OPTIMIZE,((t,e)=>{if(e.range){const{startNode:t,startOffset:r,endNode:n,endOffset:o}=e.range;this.setNativeRange(t,r,n,o)}})),this.update(c.default.sources.SILENT)}handleComposition(){this.root.addEventListener("compositionstart",(()=>{this.composing=!0})),this.root.addEventListener("compositionend",(()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout((()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(c.default.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}format(t,e){if(null!=this.scroll.whitelist&&!this.scroll.whitelist[t])return;this.scroll.update();let r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!o().query(t,o().Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){let t=o().find(r.start.node,!1);if(null==t)return;if(t instanceof o().Leaf){let e=t.split(r.start.offset);t.parent.insertBefore(this.cursor,e)}else t.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t,e=0){let r=this.scroll.length();t=Math.min(t,r-1),e=Math.min(t+e,r-1)-t;let n,[o,i]=this.scroll.leaf(t);if(null==o)return null;[n,i]=o.position(i,!0);let a=document.createRange();if(e>0)return a.setStart(n,i),[o,i]=this.scroll.leaf(t+e),null==o?null:([n,i]=o.position(i,!0),a.setEnd(n,i),a.getBoundingClientRect());{let t,e="left";return n instanceof Text?(i<n.data.length?(a.setStart(n,i),a.setEnd(n,i+1)):(a.setStart(n,i-1),a.setEnd(n,i),e="right"),t=a.getBoundingClientRect()):(t=o.domNode.getBoundingClientRect(),i>0&&(e="right")),{bottom:t.top+t.height,height:t.height,left:t[e],right:t[e],top:t.top,width:0}}}getNativeRange(){let t=document.getSelection();if(null==t||t.rangeCount<=0)return null;let e=t.getRangeAt(0);if(null==e)return null;let r=this.normalizeNative(e);return s.info("getNativeRange",r),r}getRange(){let t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root}normalizedToRange(t){let e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);let r=e.map((t=>{let[e,r]=t,n=o().find(e,!0),i=n.offset(this.scroll);return 0===r?i:n instanceof o().Container?i+n.length():i+n.index(e,r)})),n=Math.min(Math.max(...r),this.scroll.length()-1),i=Math.min(n,...r);return new f(i,n-i)}normalizeNative(t){if(!p(this.root,t.startContainer)||!t.collapsed&&!p(this.root,t.endContainer))return null;let e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){let e=t.node,r=t.offset;for(;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>r)e=e.childNodes[r],r=0;else{if(e.childNodes.length!==r)break;e=e.lastChild,r=e instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=r})),e}rangeToNative(t){let e=t.collapsed?[t.index]:[t.index,t.index+t.length],r=[],n=this.scroll.length();return e.forEach(((t,e)=>{t=Math.min(n-1,t);let o,[i,a]=this.scroll.leaf(t);[o,a]=i.position(a,0!==e),r.push(o,a)})),r.length<2&&(r=r.concat(r)),r}scrollIntoView(t){let e=this.lastRange;if(null==e)return;let r=this.getBounds(e.index,e.length);if(null==r)return;let n=this.scroll.length()-1,[o]=this.scroll.line(Math.min(e.index,n)),i=o;if(e.length>0&&([i]=this.scroll.line(Math.min(e.index+e.length,n))),null==o||null==i)return;let a=t.getBoundingClientRect();r.top<a.top?t.scrollTop-=a.top-r.top:r.bottom>a.bottom&&(t.scrollTop+=r.bottom-a.bottom)}setNativeRange(t,e,r=t,n=e,o=!1){if(s.info("setNativeRange",t,e,r,n),null!=t&&(null==this.root.parentNode||null==t.parentNode||null==r.parentNode))return;let i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus();let a=(this.getNativeRange()||{}).native;if(null==a||o||t!==a.startContainer||e!==a.startOffset||r!==a.endContainer||n!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);let o=document.createRange();o.setStart(t,e),o.setEnd(r,n),i.removeAllRanges(),i.addRange(o)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}setRange(t,e=!1,r=c.default.sources.API){if("string"==typeof e&&(r=e,e=!1),s.info("setRange",t),null!=t){let r=this.rangeToNative(t);this.setNativeRange(...r,e)}else this.setNativeRange(null);this.update(r)}update(t=c.default.sources.USER){let e=this.lastRange,[r,n]=this.getRange();if(this.lastRange=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!u()(e,this.lastRange)){!this.composing&&null!=n&&n.native.collapsed&&n.start.node!==this.cursor.textNode&&this.cursor.restore();let r=[c.default.events.SELECTION_CHANGE,a()(this.lastRange),a()(e),t];this.emitter.emit(c.default.events.EDITOR_CHANGE,...r),t!==c.default.sources.SILENT&&this.emitter.emit(...r)}}}function p(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}},3697:(t,e,r)=>{"use strict";var n=r(8052),o=Object,i=TypeError;t.exports=n((function(){if(null!=this&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t}),"get flags",!0)},2847:(t,e,r)=>{"use strict";var n=r(4289),o=r(5559),i=r(3697),a=r(1721),l=r(2753),u=o(a());n(u,{getPolyfill:a,implementation:i,shim:l}),t.exports=u},1721:(t,e,r)=>{"use strict";var n=r(3697),o=r(4289).supportsDescriptors,i=Object.getOwnPropertyDescriptor;t.exports=function(){if(o&&"gim"===/a/gim.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(r,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return n}},2753:(t,e,r)=>{"use strict";var n=r(4289).supportsDescriptors,o=r(1721),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,l=TypeError,u=Object.getPrototypeOf,c=/a/;t.exports=function(){if(!n||!u)throw new l("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=u(c),r=i(e,"flags");return r&&r.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},7771:(t,e,r)=>{"use strict";var n=r(210),o=r(2296),i=r(1044)(),a=r(7296),l=n("%TypeError%"),u=n("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new l("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||u(e)!==e)throw new l("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in t&&a){var s=a(t,"length");s&&!s.configurable&&(n=!1),s&&!s.writable&&(c=!1)}return(n||c||!r)&&(i?o(t,"length",e,!0,!0):o(t,"length",e)),t}},8052:(t,e,r)=>{"use strict";var n=r(2296),o=r(1044)(),i=r(5972).functionsHaveConfigurableNames(),a=TypeError;t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");return arguments.length>2&&!!arguments[2]&&!i||(o?n(t,"name",e,!0,!0):n(t,"name",e)),t}},7436:e=>{"use strict";e.exports=t}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o=n(5579);return o.default})()));